<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gilman Scholarship Essay Guide</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      line-height: 1.5;
      color: #1f2937;
    }
    
    .app {
      min-height: 100vh;
      background: linear-gradient(to bottom right, #dbeafe, #e0e7ff);
      padding: 1.5rem;
    }
    
    .container {
      max-width: 64rem;
      margin: 0 auto;
    }
    
    .container-lg {
      max-width: 80rem;
      margin: 0 auto;
    }
    
    .container-md {
      max-width: 48rem;
      margin: 0 auto;
    }
    
    .card {
      background: white;
      border-radius: 0.5rem;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      padding: 1rem;
      margin-bottom: 1rem;
    }
    
    .card-lg {
      padding: 2rem;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    }
    
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      border-radius: 0.5rem;
      font-size: 0.875rem;
      font-weight: 500;
      border: none;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .btn-primary {
      background-color: #4f46e5;
      color: white;
    }
    
    .btn-primary:hover {
      background-color: #4338ca;
    }
    
    .btn-secondary {
      background-color: #6b7280;
      color: white;
    }
    
    .btn-secondary:hover {
      background-color: #4b5563;
    }
    
    .btn-success {
      background-color: #16a34a;
      color: white;
    }
    
    .btn-success:hover {
      background-color: #15803d;
    }
    
    .btn-purple {
      background-color: #7c3aed;
      color: white;
    }
    
    .btn-purple:hover {
      background-color: #6d28d9;
    }
    
    .btn-tab {
      background-color: #f3f4f6;
      color: #374151;
    }
    
    .btn-tab:hover {
      background-color: #e5e7eb;
    }
    
    .btn-tab-active {
      background-color: #4f46e5;
      color: white;
    }
    
    .btn-full {
      width: 100%;
      padding: 0.75rem 1rem;
      font-size: 1rem;
      justify-content: center;
    }
    
    .btn-disabled {
      background-color: #e5e7eb;
      color: #9ca3af;
      cursor: not-allowed;
    }
    
    .btn-disabled:hover {
      background-color: #e5e7eb;
    }
    
    .heading-1 {
      font-size: 1.875rem;
      font-weight: bold;
      color: #312e81;
      margin-bottom: 1rem;
    }
    
    .heading-2 {
      font-size: 1.5rem;
      font-weight: bold;
      color: #312e81;
      margin-bottom: 0.75rem;
    }
    
    .heading-3 {
      font-size: 1.25rem;
      font-weight: 600;
      color: #1f2937;
      margin-bottom: 0.5rem;
    }
    
    .heading-4 {
      font-size: 1.125rem;
      font-weight: 600;
      color: #1f2937;
      margin-bottom: 0.75rem;
    }
    
    .text-sm {
      font-size: 0.875rem;
    }
    
    .text-gray {
      color: #6b7280;
    }
    
    .flex {
      display: flex;
    }
    
    .flex-col {
      flex-direction: column;
    }
    
    .flex-wrap {
      flex-wrap: wrap;
    }
    
    .items-center {
      align-items: center;
    }
    
    .items-start {
      align-items: flex-start;
    }
    
    .justify-between {
      justify-content: space-between;
    }
    
    .gap-2 {
      gap: 0.5rem;
    }
    
    .gap-3 {
      gap: 0.75rem;
    }
    
    .gap-4 {
      gap: 1rem;
    }
    
    .gap-6 {
      gap: 1.5rem;
    }
    
    .mb-2 {
      margin-bottom: 0.5rem;
    }
    
    .mb-3 {
      margin-bottom: 0.75rem;
    }
    
    .mb-4 {
      margin-bottom: 1rem;
    }
    
    .mb-6 {
      margin-bottom: 1.5rem;
    }
    
    .mt-2 {
      margin-top: 0.5rem;
    }
    
    .mt-4 {
      margin-top: 1rem;
    }
    
    .mr-2 {
      margin-right: 0.5rem;
    }
    
    .mr-3 {
      margin-right: 0.75rem;
    }
    
    .alert {
      border-left: 4px solid;
      padding: 1rem;
      border-radius: 0.25rem;
    }
    
    .alert-yellow {
      background-color: #fef3c7;
      border-color: #f59e0b;
    }
    
    .alert-blue {
      background-color: #dbeafe;
      border-color: #3b82f6;
    }
    
    .alert-green {
      background-color: #d1fae5;
      border-color: #10b981;
    }
    
    .alert-red {
      background-color: #fee2e2;
      border-color: #ef4444;
    }
    
    .alert-orange {
      background-color: #ffedd5;
      border-color: #f97316;
    }
    
    .alert-purple {
      background-color: #f3e8ff;
      border-color: #a855f7;
    }
    
    .text-yellow {
      color: #78350f;
    }
    
    .text-blue {
      color: #1e3a8a;
    }
    
    .text-green {
      color: #14532d;
    }
    
    .text-red {
      color: #7f1d1d;
    }
    
    .text-orange {
      color: #78350f;
    }
    
    .text-purple {
      color: #581c87;
    }
    
    .font-semibold {
      font-weight: 600;
    }
    
    .font-bold {
      font-weight: bold;
    }
    
    .checkmark {
      color: #4f46e5;
      font-size: 1.125rem;
      font-weight: bold;
    }
    
    .progress-bar {
      flex: 1;
      background-color: #e5e7eb;
      border-radius: 9999px;
      height: 0.5rem;
      overflow: hidden;
    }
    
    .progress-fill {
      background-color: #4f46e5;
      height: 100%;
      border-radius: 9999px;
      transition: width 0.3s;
    }
    
    .textarea {
      width: 100%;
      height: 12rem;
      padding: 1rem;
      border: 1px solid #d1d5db;
      border-radius: 0.5rem;
      font-family: inherit;
      font-size: 1rem;
      resize: none;
    }
    
    .textarea:focus {
      outline: none;
      border-color: #4f46e5;
      box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
    }
    
    ul {
      list-style-position: inside;
      list-style-type: disc;
    }
    
    .ml-4 {
      margin-left: 1rem;
    }
    
    a {
      color: #4f46e5;
      text-decoration: underline;
    }
    
    a:hover {
      color: #4338ca;
    }
    
    .section-divider {
      border-bottom: 1px solid #e5e7eb;
      padding-bottom: 1rem;
      margin-bottom: 1rem;
    }
    
    .section-divider:last-child {
      border-bottom: none;
    }
    
    .whitespace-nowrap {
      white-space: nowrap;
    }
    
    .text-center {
      text-align: center;
    }
    
    .leading-relaxed {
      line-height: 1.625;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    function GilmanGuide() {
      const [currentEssay, setCurrentEssay] = useState(0);
      const [currentQuestion, setCurrentQuestion] = useState(0);
      const [responses, setResponses] = useState({});
      const [currentAnswer, setCurrentAnswer] = useState("");
      const [warnings, setWarnings] = useState([]);
      const [showIntro, setShowIntro] = useState(true);
      const [showOutlines, setShowOutlines] = useState(false);

      useEffect(() => {
        const saved = localStorage.getItem('gilmanResponses');
        if (saved) {
          try {
            setResponses(JSON.parse(saved));
          } catch (e) {
            console.error('Error loading saved responses:', e);
          }
        }
      }, []);

      useEffect(() => {
        localStorage.setItem('gilmanResponses', JSON.stringify(responses));
      }, [responses]);

      const clichePhrases = [
        { phrase: /since\s+i\s+was\s+(young|a\s+child)/gi, suggestion: "Try being more specific about when and how this interest developed with concrete examples." },
        { phrase: /comfort\s+zone/gi, suggestion: "Replace 'comfort zone' with specific details about what challenges you'll face and how you'll handle them." },
        { phrase: /passion(ate)?(ly)?/gi, suggestion: "Show your passion through specific examples and actions rather than stating it." },
        { phrase: /make\s+a\s+difference/gi, suggestion: "Be specific about what difference you want to make and how." },
        { phrase: /change\s+the\s+world/gi, suggestion: "Focus on specific, measurable impacts rather than broad claims." },
        { phrase: /dream\s+come\s+true/gi, suggestion: "Explain why this opportunity matters with concrete details instead." },
        { phrase: /eye[-\s]opening/gi, suggestion: "Describe what specifically you hope to learn or discover." },
        { phrase: /broaden\s+my\s+horizons?/gi, suggestion: "What specific knowledge or skills do you want to gain?" },
        { phrase: /global\s+citizen/gi, suggestion: "Describe specific ways you'll engage across cultures instead." },
        { phrase: /give\s+back/gi, suggestion: "Be specific about what you'll do and for whom." },
        { phrase: /always\s+wanted/gi, suggestion: "When did this interest start and what specific experiences shaped it?" },
        { phrase: /follow\s+my\s+dreams?/gi, suggestion: "Replace with specific goals and concrete steps you're taking." },
        { phrase: /graduate\s+school|grad\s+school/gi, suggestion: "Be specific! What type of graduate program? (e.g., 'a Master's in Public Health' or 'a PhD in Environmental Engineering')" },
        { phrase: /further\s+my\s+education/gi, suggestion: "Specify what degree program, in what field, and why it connects to your goals." },
        { phrase: /continue\s+my\s+studies/gi, suggestion: "What specific program or degree are you pursuing and in what field?" },
        { phrase: /pursue\s+higher\s+education/gi, suggestion: "Name the specific degree type and field (e.g., 'pursue an MBA' or 'earn a Master's in Data Science')." },
        { phrase: /advanced\s+degree/gi, suggestion: "Which type of advanced degree? Be specific about the program and field." },
      ];

      const essays = [
        {
          title: "Essay 1: Motivations for Studying or Interning Abroad",
          intro: "This essay should explain WHY you chose your specific program and how it connects to your future goals. Within the first paragraph, readers should know your major, future goals, and where you plan to study abroad.",
          questions: [
            { id: "major", text: "What is your major/minors?", placeholder: "e.g., Biology major with a minor in Spanish" },
            { id: "career", text: "What career do you want to have in the next 5-10 years? What specific job is your degree preparing you for?", placeholder: "Be specific about the job title and field..." },
            { id: "location", text: "What city and country is your proposed study abroad program in?", placeholder: "e.g., Santiago, Chile" },
            { id: "classes", text: "What classes do you plan to take during your study abroad?", placeholder: "List specific courses or types of courses typically offered..." },
            { id: "relevance", text: "What relevance do those classes have to preparing you for your future goals?", placeholder: "Connect each course to your career/academic plans..." },
            { id: "distinctive", text: "Are there any distinctive components to this program beyond coursework?", placeholder: "Describe special features that attracted you..." },
            { id: "career-need", text: "Why specifically would someone in your future career need experience living and working in your host country?", placeholder: "Think about language skills, industry connections..." },
          ],
        },
        {
          title: "Essay 2: Knowledge and Skill Development",
          intro: "This essay demonstrates that you're prepared to succeed abroad AND what you hope to gain. Start by stating your goals, then provide evidence of your preparation through academics, experiences, and strategies.",
          questions: [
            { id: "prep-courses", text: "What key courses have you taken that have helped prepare you for your study abroad?", placeholder: "Prerequisites, language classes..." },
            { id: "challenges", text: "What are some things you might find difficult about studying and living abroad?", placeholder: "Be honest: language barriers, course load..." },
            { id: "adaptation", text: "What experiences have you had that will help you adapt to living abroad?", placeholder: "Roommate experiences, travel..." },
            { id: "strategies", text: "What strategies for academic success will you draw on?", placeholder: "Time management, study habits..." },
            { id: "difficulties", text: "Have you faced any significant academic difficulties? If so, how are you overcoming them?", placeholder: "Optional: Show growth through challenges..." },
          ],
        },
        {
          title: "Essay 3: Citizen Diplomacy",
          intro: "As a Gilman Scholar, you'll represent the United States as a citizen diplomat and build meaningful connections in your host community.",
          questions: [
            { id: "american-values", text: "What are some positive attributes you think many Americans share?", placeholder: "Values like innovation, community service..." },
            { id: "engagement-opportunities", text: "What opportunities does your study abroad provide for engaging with locals?", placeholder: "Homestays, internships, clubs..." },
            { id: "hobbies", text: "What are your current hobbies or interests that can be shared?", placeholder: "Sports, music, cooking..." },
            { id: "hobby-engagement", text: "What are some feasible ways of engaging in those hobbies in your host country?", placeholder: "Be realistic and specific..." },
            { id: "american-identity", text: "What aspects of American culture would you want to share?", placeholder: "Think beyond stereotypes..." },
          ],
        },
        {
          title: "Essay 4: Follow-On Service Project Proposal",
          intro: "Propose a FEASIBLE project to promote study abroad and the Gilman Scholarship within 6 months of returning.",
          questions: [
            { id: "target-audience", text: "Who is your target population/audience?", placeholder: "Be specific: which club, school..." },
            { id: "project-goals", text: "What are the specific goals of your project?", placeholder: "What message about Gilman..." },
            { id: "resources", text: "What resources will you draw on?", placeholder: "Relationships, offices, venues..." },
            { id: "project-details", text: "Describe the project in detail", placeholder: "What, where, when, how..." },
            { id: "feasibility", text: "Explain why this project is feasible", placeholder: "Timeline and logistics..." },
          ],
        },
        {
          title: "Essay Writing Guidelines",
          intro: "Now that you've brainstormed, use this guidance to organize your essays.",
          isGuide: true,
          questions: [],
        },
      ];

      const guideContent = (
        <div className="flex flex-col gap-6">
          <div className="alert alert-red">
            <h3 className="font-bold text-red mb-2">Formatting Requirements (All Essays)</h3>
            <ul className="text-sm text-red">
              <li>No longer than 500 words OR one single-spaced page</li>
              <li>12pt Times New Roman font</li>
              <li>1-inch margins</li>
              <li>Focus on specificity and concrete details</li>
              <li>Avoid clich√©s and generic statements</li>
            </ul>
          </div>

          <div className="alert alert-blue">
            <h3 className="font-bold text-blue mb-2">Essay 1: Motivations - How to Organize</h3>
            <div className="text-sm text-blue">
              <p className="mb-2"><strong>FIRST PARAGRAPH:</strong> State your major, career goals, and study abroad location.</p>
              <p><strong>BODY:</strong> Describe your program, courses, and why experience in this country matters for your field.</p>
            </div>
          </div>

          <div className="alert alert-green">
            <h3 className="font-bold text-green mb-2">Essay 2: Knowledge and Skills - How to Organize</h3>
            <div className="text-sm text-green">
              <p className="mb-2"><strong>OPENING:</strong> State your learning goals.</p>
              <p><strong>BODY:</strong> Show preparation through courses, experiences, strategies, and overcoming challenges.</p>
            </div>
          </div>

          <div className="alert alert-purple">
            <h3 className="font-bold text-purple mb-2">Essay 3: Citizen Diplomacy - How to Organize</h3>
            <div className="text-sm text-purple">
              <p className="mb-2"><strong>OPENING:</strong> Introduce American values you'll share with examples.</p>
              <p><strong>BODY:</strong> Describe feasible engagement plans through program features and hobbies.</p>
            </div>
          </div>

          <div className="alert alert-yellow">
            <h3 className="font-bold text-yellow mb-2">Essay 4: Follow-On Service Project - How to Organize</h3>
            <div className="text-sm text-yellow">
              <p className="mb-2"><strong>PROPOSAL FORMAT:</strong> Target audience, goals, detailed project description, resources, and feasibility within 6 months.</p>
            </div>
          </div>
        </div>
      );

      useEffect(() => {
        const key = `essay${currentEssay}-q${currentQuestion}`;
        setCurrentAnswer(responses[key] || "");
        checkForWarnings(responses[key] || "");
      }, [currentEssay, currentQuestion, responses]);

      const checkForWarnings = (text) => {
        if (!text) {
          setWarnings([]);
          return;
        }

        const foundWarnings = [];

        if (currentEssay === 1) {
          const wordCount = text.trim().split(/\s+/).length;

          if (currentQuestion === 1 && wordCount < 40) {
            foundWarnings.push("Try writing more! Be specific about the challenges you anticipate.");
          }
          if (currentQuestion === 2 && wordCount < 50) {
            foundWarnings.push("Try writing more! Tell stories that show your preparation.");
          }
          if (currentQuestion === 3 && wordCount < 50) {
            foundWarnings.push("Try writing more! Don't just list strategies‚Äîtell the story of how you developed them.");
          }
          if (currentQuestion === 4 && wordCount > 0 && wordCount < 40) {
            foundWarnings.push("If addressing academic difficulties, tell the full story with concrete details.");
          }
        }

        clichePhrases.forEach(({ phrase, suggestion }) => {
          if (phrase.test(text)) {
            foundWarnings.push(suggestion);
          }
        });
        setWarnings([...new Set(foundWarnings)]);
      };

      const handleAnswerChange = (e) => {
        const value = e.target.value;
        setCurrentAnswer(value);
        checkForWarnings(value);
      };

      const saveAndNext = () => {
        const key = `essay${currentEssay}-q${currentQuestion}`;
        setResponses({ ...responses, [key]: currentAnswer });

        if (currentQuestion < essays[currentEssay].questions.length - 1) {
          setCurrentQuestion(currentQuestion + 1);
        } else if (currentEssay < essays.length - 1) {
          setCurrentEssay(currentEssay + 1);
          setCurrentQuestion(0);
        }
      };

      const saveAndPrevious = () => {
        const key = `essay${currentEssay}-q${currentQuestion}`;
        setResponses({ ...responses, [key]: currentAnswer });

        if (currentQuestion > 0) {
          setCurrentQuestion(currentQuestion - 1);
        } else if (currentEssay > 0) {
          setCurrentEssay(currentEssay - 1);
          setCurrentQuestion(essays[currentEssay - 1].questions.length - 1);
        }
      };

      const exportResponses = () => {
        let exportText = "GILMAN SCHOLARSHIP ESSAY BRAINSTORMING\n";
        exportText += "=".repeat(50) + "\n\n";

        essays.forEach((essay, essayIndex) => {
          if (essay.isGuide) return;
          exportText += `${essay.title.toUpperCase()}\n`;
          exportText += "-".repeat(50) + "\n\n";

          essay.questions.forEach((question, qIndex) => {
            const key = `essay${essayIndex}-q${qIndex}`;
            const answer = responses[key] || "[Not answered yet]";
            exportText += `Q: ${question.text}\n`;
            exportText += `A: ${answer}\n\n`;
          });

          exportText += "\n";
        });

        const blob = new Blob([exportText], { type: "text/plain" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "gilman-essay-responses.txt";
        a.click();
      };

      const calculateProgress = () => {
        let answered = 0;
        let total = 0;
        essays.forEach((essay, essayIndex) => {
          if (essay.isGuide) return;
          essay.questions.forEach((_, qIndex) => {
            total++;
            const key = `essay${essayIndex}-q${qIndex}`;
            if (responses[key] && responses[key].trim().length > 0) {
              answered++;
            }
          });
        });
        return { answered, total, percentage: Math.round((answered / total) * 100) };
      };

      const generateOutline = (essayIndex) => {
        const essay = essays[essayIndex];
        if (essay.isGuide) return null;

        const essayResponses = essay.questions.map((q, qIndex) => {
          const key = `essay${essayIndex}-q${qIndex}`;
          return { question: q.text, answer: responses[key] || "" };
        });

        const hasContent = essayResponses.some(r => r.answer.trim().length > 0);
        if (!hasContent) return null;

        const outlines = [
          {
            title: essay.title,
            sections: [
              { heading: "Opening Paragraph", content: `Introduce yourself with your major (${essayResponses[0].answer || "[your major]"}), career goal (${essayResponses[1].answer || "[career]"}), and destination (${essayResponses[2].answer || "[location]"}).` },
              { heading: "Body: Program Details", content: `Describe courses: ${essayResponses[3].answer || "[courses]"}. Explain their relevance.` },
              { heading: "Body: Career Relevance", content: `Connect to your future: ${essayResponses[4].answer || "[relevance]"}. ${essayResponses[5].answer ? `Features: ${essayResponses[5].answer}` : ""}` },
              { heading: "Body: Professional Context", content: `Why this country matters: ${essayResponses[6].answer || "[explain]"}.` },
              { heading: "Conclusion", content: "Reinforce program alignment with your trajectory." }
            ]
          },
          {
            title: essay.title,
            sections: [
              { heading: "Opening", content: "State your learning goals for study abroad." },
              { heading: "Body: Academic Prep", content: `Show readiness: ${essayResponses[0].answer || "[courses]"}.` },
              { heading: "Body: Challenges & Adaptability", content: `Challenges: ${essayResponses[1].answer || "[challenges]"}. Past experiences: ${essayResponses[2].answer || "[experiences]"}.` },
              { heading: "Body: Success Strategies", content: `Strategies: ${essayResponses[3].answer || "[strategies]"}. ${essayResponses[4].answer ? `Growth: ${essayResponses[4].answer}` : ""}` },
              { heading: "Conclusion", content: "Show how preparation positions you to thrive." }
            ]
          },
          {
            title: essay.title,
            sections: [
              { heading: "Opening", content: `American values: ${essayResponses[0].answer || "[values]"}. Give concrete examples.` },
              { heading: "Body: Program Opportunities", content: `Engagement opportunities: ${essayResponses[1].answer || "[opportunities]"}.` },
              { heading: "Body: Hobbies", content: `Your hobbies: ${essayResponses[2].answer || "[hobbies]"}. Engagement plans: ${essayResponses[3].answer || "[plans]"}.` },
              { heading: "Body: Cultural Exchange", content: `What you'll share: ${essayResponses[4].answer || "[exchange plans]"}.` },
              { heading: "Conclusion", content: "Summarize your feasible citizen diplomacy plans." }
            ]
          },
          {
            title: essay.title,
            sections: [
              { heading: "Target Audience", content: `Audience: ${essayResponses[0].answer || "[audience]"}. Why they'd benefit.` },
              { heading: "Project Goals", content: `Goals: ${essayResponses[1].answer || "[goals]"}. Promote Gilman specifically.` },
              { heading: "Project Description", content: `Details: ${essayResponses[3].answer || "[details]"}. What, where, when, how.` },
              { heading: "Resources", content: `Resources: ${essayResponses[2].answer || "[resources]"}.` },
              { heading: "Feasibility", content: `Why feasible: ${essayResponses[4].answer || "[feasibility]"}. 6-month timeline.` },
              { heading: "Conclusion", content: "Reinforce commitment and capability." }
            ]
          }
        ];

        return outlines[essayIndex];
      };

      const allEssaysComplete = () => {
        const progress = calculateProgress();
        return progress.answered === progress.total;
      };

      if (showIntro) {
        return (
          <div className="app">
            <div className="container-md">
              <div className="card card-lg">
                <h1 className="heading-1">Gilman Scholarship Essay Guide</h1>
                <p className="text-gray mb-6">This guide was developed by Syracuse University's CFSA. Plan for 40-60 minutes.</p>

                <div className="alert alert-yellow mb-6">
                  <div className="flex items-start">
                    <span style={{fontSize: '1.25rem'}} className="mr-3">‚ö†Ô∏è</span>
                    <div>
                      <p className="font-semibold text-yellow mb-2">Important: About AI Tools</p>
                      <p className="text-sm text-yellow">AI-generated essays rarely succeed. This tool helps you brainstorm YOUR experiences‚Äîwhat makes competitive applications.</p>
                    </div>
                  </div>
                </div>

                <div className="mb-6">
                  <h2 className="heading-3">What You'll Work On:</h2>
                  <div className="flex flex-col gap-2">
                    {essays.filter(e => !e.isGuide).map((essay, index) => (
                      <div key={index} className="flex items-start">
                        <span className="checkmark mr-2">‚úì</span>
                        <div>
                          <p className="font-semibold">{essay.title}</p>
                          <p className="text-sm text-gray">{essay.questions.length} questions</p>
                        </div>
                      </div>
                    ))}
                  </div>
                </div>

                <div className="alert alert-blue mb-6">
                  <h3 className="font-semibold text-blue mb-2">How This Works:</h3>
                  <ul className="text-sm text-blue">
                    <li>Answer questions one at a time</li>
                    <li>Responses saved automatically in your browser</li>
                    <li>Real-time feedback on clich√©s</li>
                    <li>Get personalized outlines when done</li>
                    <li>Export all answers</li>
                  </ul>
                </div>

                <div className="alert alert-green mb-6">
                  <h3 className="font-semibold text-green mb-2">What to Do with Your Responses:</h3>
                  <ul className="text-sm text-green mb-2">
                    <li>Export your responses</li>
                    <li>Review the Writing Guide tab</li>
                    <li>View your personalized outlines</li>
                    <li>Write essays in your own words</li>
                    <li>Attend a workshop or meet with CFSA. <a href="https://docs.google.com/spreadsheets/d/1ljykTd9x4ipZsVfAiSn7qh2N1ixtGGmNEnz0wRcu8jo/edit?usp=sharing" target="_blank">Sign up here</a></li>
                  </ul>
                </div>

                <button onClick={() => setShowIntro(false)} className="btn btn-primary btn-full">Start Brainstorming</button>
              </div>
            </div>
          </div>
        );
      }

      if (showOutlines) {
        return (
          <div className="app">
            <div className="container-lg">
              <div className="card mb-4">
                <div className="flex justify-between items-center">
                  <h1 className="heading-2">Your Essay Outlines</h1>
                  <div className="flex gap-2">
                    <button onClick={exportResponses} className="btn btn-success">‚¨á Export</button>
                    <button onClick={() => setShowOutlines(false)} className="btn btn-primary">‚Üê Back</button>
                  </div>
                </div>
              </div>

              <div className="alert alert-blue mb-6">
                <p className="text-sm text-blue"><strong>How to use:</strong> These are frameworks based on your responses. Use them to organize your essays in your own voice.</p>
              </div>

              {essays.filter(e => !e.isGuide).map((_, essayIndex) => {
                const outline = generateOutline(essayIndex);
                if (!outline) return null;

                return (
                  <div key={essayIndex} className="card card-lg mb-6">
                    <h2 className="heading-2">{outline.title}</h2>
                    {outline.sections.map((section, idx) => (
                      <div key={idx} className="section-divider">
                        <h3 className="heading-4">{section.heading}</h3>
                        <p className="leading-relaxed">{section.content}</p>
                      </div>
                    ))}
                    <div className="alert alert-yellow mt-4">
                      <p className="text-sm text-yellow"><strong>Remember:</strong> Under 500 words, 12pt Times New Roman, 1-inch margins.</p>
                    </div>
                  </div>
                );
              })}

              <div className="alert alert-green">
                <h3 className="font-semibold text-green mb-2">Next Steps:</h3>
                <ul className="text-sm text-green">
                  <li>Draft essays using these outlines</li>
                  <li>Pull details from exported responses</li>
                  <li>Review Writing Guide tab</li>
                  <li>Get feedback. <a href="https://docs.google.com/spreadsheets/d/1ljykTd9x4ipZsVfAiSn7qh2N1ixtGGmNEnz0wRcu8jo/edit?usp=sharing" target="_blank">Workshop signup</a></li>
                </ul>
              </div>
            </div>
          </div>
        );
      }

      const progress = calculateProgress();
      const currentEssayData = essays[currentEssay];
      const isGuideTab = currentEssayData.isGuide;
      const currentQ = !isGuideTab ? currentEssayData.questions[currentQuestion] : null;
      const isFirst = currentEssay === 0 && currentQuestion === 0;
      const isLast = currentEssay === essays.length - 1 && currentQuestion === currentEssayData.questions.length - 1;

      return (
        <div className="app">
          <div className="container">
            <div className="card mb-4">
              <div className="flex justify-between items-center mb-2">
                <h1 className="heading-2">Gilman Essay Guide</h1>
                <div className="flex gap-2">
                  {allEssaysComplete() && (
                    <button onClick={() => setShowOutlines(true)} className="btn btn-purple">üìù View Outlines</button>
                  )}
                  <button onClick={exportResponses} className="btn btn-success">‚¨á Export</button>
                </div>
              </div>
              <div className="flex items-center gap-3">
                <div className="progress-bar">
                  <div className="progress-fill" style={{ width: `${progress.percentage}%` }} />
                </div>
                <span className="text-sm text-gray font-semibold whitespace-nowrap">{progress.answered}/{progress.total}</span>
              </div>
            </div>

            <div className="card mb-4">
              <div className="flex flex-wrap gap-2">
                {essays.map((essay, index) => (
                  <button
                    key={index}
                    onClick={() => {
                      const key = `essay${currentEssay}-q${currentQuestion}`;
                      setResponses({ ...responses, [key]: currentAnswer });
                      setCurrentEssay(index);
                      setCurrentQuestion(0);
                    }}
                    className={`btn ${currentEssay === index ? 'btn-tab-active' : 'btn-tab'}`}
                  >
                    {index < 4 ? `Essay ${index + 1}` : "Writing Guide"}
                  </button>
                ))}
              </div>
            </div>

            <div className="card card-lg">
              <h2 className="heading-2">{currentEssayData.title}</h2>
              <div className="alert alert-blue mb-6">
                <p className="text-sm text-blue">{currentEssayData.intro}</p>
              </div>

              {isGuideTab ? guideContent : (
                <>
                  <div className="mb-6">
                    <h3 className="heading-4">Question {currentQuestion + 1} of {currentEssayData.questions.length}</h3>
                    <p className="mb-4">{currentQ.text}</p>
                    <textarea
                      value={currentAnswer}
                      onChange={handleAnswerChange}
                      placeholder={currentQ.placeholder}
                      className="textarea"
                    />
                  </div>

                  {warnings.length > 0 && (
                    <div className="mb-6 flex flex-col gap-2">
                      {warnings.map((warning, index) => (
                        <div key={index} className="alert alert-orange">
                          <div className="flex items-start">
                            <span className="mr-2" style={{fontSize: '1.125rem'}}>‚ö†Ô∏è</span>
                            <p className="text-sm text-orange">{warning}</p>
                          </div>
                        </div>
                      ))}
                    </div>
                  )}

                  <div className="flex justify-between gap-4">
                    <button
                      onClick={saveAndPrevious}
                      disabled={isFirst}
                      className={`btn ${isFirst ? 'btn-disabled' : 'btn-secondary'}`}
                      style={{padding: '0.75rem 1.5rem'}}
                    >
                      ‚Üê Previous
                    </button>
                    <button onClick={saveAndNext} className="btn btn-primary" style={{padding: '0.75rem 1.5rem'}}>
                      {isLast ? "Save" : "Next"} ‚Üí
                    </button>
                  </div>
                </>
              )}
            </div>

            {!isGuideTab && (
              <div className="mt-4 text-center text-sm text-gray">
                üí° Tip: Be as specific as possible. Reviewers value concrete details.
              </div>
            )}
          </div>
        </div>
      );
    }

    ReactDOM.render(<GilmanGuide />, document.getElementById('root'));
  </script>
</body>
</html>